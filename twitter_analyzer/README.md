# twitter_analyzer

The use to analyze specific data from specific company can be found in 'get_sentiment_data.py'

It's developed and tested under python 2.7.

## Requirment
	need the vaderSentiment from the orignial ropo, the pip install will only
	install the older version which has bugs in it. The newest version hasn't been published.
	You can either install it in the following way or put the 'get_sentiment_data.py' into the 
	downloaded pakcage folder

```
	$ git clone https://github.com/cjhutto/vaderSentiment.git
	$ cd vaderSentiment
    $ python setup install
```

    Note: due to different configuration on each machine, some people may have encoding error 
    when install and use the vaderSentiment. One solution is add 'import codecs' in the 'vaderSentiment.py',
    and replace the following line in the function 'SentimentIntensityAnalyzer' of 'vaderSentiment.py'

```
    with open(lexicon_full_filepath, encoding='utf-8') as f:
```
	
	with the following line.
    
```
    with codecs.open(lexicon_full_filepath, encoding='utf-8') as f:
```

## get_sentiment_data.py Usage

```
To use 'get_stock_data.py', you can use the following function to get .csv output to the same folder.

  def get_sentiment_csv(company_name, date_list):
      """Get the sentiment analysis on tweets generated by get_tweets.py. Input
      same company_name, date_list as inputed in get_tweets() function in 
      get_tweets.py. Results will be saved in .cvs files in the name fasihon of 
      'company_sentiment_date'.

          :input: company_name
          :type: string
          :input: date_list
          :type: list of string(s)
          :return: None
          :type: None
      """

python
from vaderSentiment.vaderSentiment import SentimentIntensityAnalyzer
import codecs # support codecs.open encoding utf-8 in python2 
import pandas as pd # support csv reading

# United Airlines
get_sentiment_csv('United_Airlines', ['2017-04-04', '2017-04-05', '2017-04-06', '2017-04-07', \
  '2017-04-08', '2017-04-09', '2017-04-10', '2017-04-11', '2017-04-12', '2017-04-13'])

# Tesla
get_sentiment_csv('TESLA', ['2018-02-02', '2018-02-03', '2018-02-04', '2018-02-05', '2018-02-06', \
  '2018-02-07', '2018-02-08', '2018-02-09', '2018-02-10', '2018-02-11'])

# Snapchat
get_sentiment_csv('SNAPCHAT', ['2018-02-17', '2018-02-18', '2018-02-19',  '2018-02-20', '2018-02-21', \
  '2018-02-22', '2018-02-23', '2018-02-24', '2018-02-25', '2018-02-26', '2018-02-27'])

text,date,retweets,favorites,negative,neutral,positive,compound

Baekhyun ‘scandal’ for example?,2018-02-18 15:59:59,0,0,0.0,1.0,0.0,0.0

Output .csv file format
# text    date                retweets favorites negative neutral positive compound                          
# example 2018-02-18 15:59:59 0        0         0.0      1.0     0.0      0.0
# ...     ...                 ...      ...       ...      ...     ...      ...
```

## About Scoring

The compound score is computed by summing the valence scores of each word in the lexicon, adjusted according to the rules, and then normalized to be between -1 (most extreme negative) and +1 (most extreme positive). This is the most useful metric if you want a single unidimensional measure of sentiment for a given sentence. Calling it a 'normalized, weighted composite score' is accurate.

It is also useful for researchers who would like to set standardized thresholds for classifying sentences as either positive, neutral, or negative. Typical threshold values (used in the literature cited on this page) are:
```
positive sentiment: compound score >= 0.5
neutral sentiment: (compound score > -0.5) and (compound score < 0.5)
negative sentiment: compound score <= -0.5
```
The pos, neu, and neg scores are ratios for proportions of text that fall in each category (so these should all add up to be 1... or close to it with float operation). These are the most useful metrics if you want multidimensional measures of sentiment for a given sentence.


## Environment

This program was developed and tested under following environments:
python: 2.7.14.final.0
python-bits: 64
OS: Darwin
OS-release: 16.7.0
machine: x86_64
processor: i386
byteorder: little
LC_ALL: None
LANG: en_US.UTF-8
LOCALE: None.None
